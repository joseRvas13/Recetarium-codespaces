{% load static %}
{% include 'inc/header.html' %}

<link rel="stylesheet" href="{% static 'Usuarios/perfil.css' %}">

<main>
    <div class="container">
        <div class="textos">
            <h2 class="perfil">Mi Perfil</h2>
            <h1 class="nombre">¡Hola {{ user.first_name }}!</h1>
            <h3 class="rc">Recetarium</h3>
        </div>
        <div class="row">
            <div class="col">
                <img src="https://isobarscience.com/wp-content/uploads/2020/09/default-profile-picture1.jpg" alt="" style="border-radius: 50%;">
            </div>
            <div class="col">
                <div class="info">
                    <h1><b>Nombre:</b> {{ user.first_name }}</h1>
                    <h2><b>Apellido:</b> {{ user.last_name }}</h2>
                    <h3 class="email"><b>Correo Electrónico:</b> {{ user.email }}</h3>
                </div>
            </div>
            <hr>
            <br>
            <div class="editar">
                <h3 class="pregunta">¿Quieres actualizar o cambiar tu información?</h3>
                <a href="{% url 'perfil_config' user.id %}" class="but">
                    <button type="button" class="btn btn-primary">Configuración de la Cuenta</button>
                </a>
                <!-- Botón de salida con validación de confirmación -->
                <button type="button" class="btn btn-danger" id="confirmarSalir">
                    Salir
                </button>
            </div>
        </div>
    </div>
</main>

{% include 'inc/footer.html' %}


<!-- Script para validación de confirmación de salida -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Capturar el clic en el enlace
        document.getElementById('confirmarSalir').addEventListener('click', function(event) {
            event.preventDefault(); // Prevenir el comportamiento predeterminado del enlace

            // Mostrar la alerta de SweetAlert
            Swal.fire({
                icon: 'question',
                title: '¿Estás seguro?',
                text: '¿Deseas salir?',
                showCancelButton: true,
                confirmButtonText: 'Sí',
                cancelButtonText: 'No',
            }).then((result) => {
                if (result.isConfirmed) {
                    // Aquí puedes redirigir o hacer otra acción si el usuario confirma
                    // Por ejemplo, redireccionar a una página específica:
                    window.location.href = '/';
                }
            });
        });
    });
</script>

</body>
</html>
